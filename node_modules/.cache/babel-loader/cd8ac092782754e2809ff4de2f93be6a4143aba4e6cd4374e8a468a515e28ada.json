{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-8c7aad26\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"login-form\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Login\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Login\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), $data.passwordError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($data.passwordError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_6, _createElementVNode(\"p\", {\n    onClick: _cache[2] || (_cache[2] = $event => this.$emit('loginFormClosed'))\n  }, [_createTextVNode(\"Don't have an account? \"), _createVNode(_component_router_link, {\n    to: \"/form\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign up\")]),\n    _: 1 /* STABLE */\n  })])], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_3","$data","email","$event","required","_hoisted_4","password","passwordError","_hoisted_5","_toDisplayString","_hoisted_6","onClick","$emit","_createVNode","_component_router_link","to"],"sources":["/home/sezfabian/Devs/The_Tv_Guys/web_app/src/components/forms/LoginForm.vue"],"sourcesContent":["<template>\n  <div class=\"login-form\">\n    <h2>Login</h2>\n    <form @submit.prevent=\"login\">\n      <label for=\"email\">Email</label>\n      <input type=\"email\" v-model=\"email\" required>\n      <label for=\"password\">Password</label>\n      <input type=\"password\" v-model=\"password\" required>\n      <div v-if=\"passwordError\" class=\"error\">{{ passwordError }}</div>\n      <button type=\"submit\">Login</button>\n      <p @click=\"this.$emit('loginFormClosed')\">Don't have an account? <router-link to=\"/form\">Sign up</router-link></p>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      passwordError: null,\n    };\n  },\n  methods: {\n    login() {\n      axios.post('http://127.0.0.1:5000/login', {\n        email: this.email,\n        password: this.password\n      })\n      .then(response => {\n        // Handle successful login\n        console.log(response.data);\n        this.passwordError = null;\n        console.log(response.data['name'])\n        this.$store.commit('setUser', {\n                     id: response.data['user_id'],\n                     username: response.data['name'],\n                     usermail: response.data['email']\n              });\n        this.$emit('loginFormClosed');\n      })\n      .catch(error => {\n        // Handle login error\n        console.error(error.response.data);\n        this.passwordError = error.response.data['error'];\n      });\n    },\n  }\n};\n</script>\n\n.<style scoped>\n.login-form {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 400px;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0 2px 3px #ccc;\n    padding: 20px;\n    z-index: 10200;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAAc,YAAV,OAAK;gEAEPA,mBAAA,CAAgC;EAAzBC,GAAG,EAAC;AAAO,GAAC,OAAK;gEAExBD,mBAAA,CAAsC;EAA/BC,GAAG,EAAC;AAAU,GAAC,UAAQ;;;EAEJF,KAAK,EAAC;;gEAChCC,mBAAA,CAAoC;EAA5BE,IAAI,EAAC;AAAQ,GAAC,OAAK;;;;uBAR/BC,mBAAA,CAWM,OAXNC,UAWM,GAVJC,UAAc,EACdL,mBAAA,CAQO;IARAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;MAC1BG,UAAgC,E,gBAChCZ,mBAAA,CAA6C;IAAtCE,IAAI,EAAC,OAAO;+DAAUW,KAAA,CAAAC,KAAK,GAAAC,MAAA;IAAEC,QAAQ,EAAR;iDAAPH,KAAA,CAAAC,KAAK,E,GAClCG,UAAsC,E,gBACtCjB,mBAAA,CAAmD;IAA5CE,IAAI,EAAC,UAAU;+DAAUW,KAAA,CAAAK,QAAQ,GAAAH,MAAA;IAAEC,QAAQ,EAAR;iDAAVH,KAAA,CAAAK,QAAQ,E,GAC7BL,KAAA,CAAAM,aAAa,I,cAAxBhB,mBAAA,CAAiE,OAAjEiB,UAAiE,EAAAC,gBAAA,CAAtBR,KAAA,CAAAM,aAAa,oB,mCACxDG,UAAoC,EACpCtB,mBAAA,CAAkH;IAA9GuB,OAAK,EAAAhB,MAAA,QAAAA,MAAA,MAAAQ,MAAA,SAAOS,KAAK;uBAAqB,yBAAuB,GAAAC,YAAA,CAA6CC,sBAAA;IAAhCC,EAAE,EAAC;EAAO;sBAAC,MAAO,C,iBAAP,SAAO,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}